### Title
Zero Indexing Price Enables Free Cross-Chain Indexing and Miner Disincentivization

### Summary
The CrossChain contract allows side chains to set their `IndexingPrice` to zero during creation and operation, enabling perpetual free indexing services without compensating miners. This breaks the economic incentive model where miners should receive payment for indexing side chain blocks onto the parent chain, allowing side chains to exploit parent chain infrastructure at no cost.

### Finding Description
The vulnerability exists in the side chain creation and indexing fee validation logic. The contract validates that `IndexingPrice >= 0` during side chain creation, explicitly allowing zero as a valid price: [1](#0-0) 

When a side chain is created, the `IndexingPrice` from the creation request is stored directly into the `SideChainInfo` without any minimum positive price enforcement: [2](#0-1) 

The same weak validation (>= 0) applies when adjusting the indexing price later: [3](#0-2) 

When side chain blocks are indexed via `IndexSideChainBlockData`, the indexing fee calculation uses this price directly. If `IndexingPrice` is zero: [4](#0-3) 

Since `indexingPrice = 0`, the `lockedToken` balance is never depleted (`lockedToken -= 0`), and `indexingFeeAmount` remains zero. Consequently, the miner compensation transfer is skipped: [5](#0-4) 

The miner (proposer) who indexed the blocks receives zero compensation when `indexingFeeAmount = 0`, and no arrears are recorded because the locked tokens never go negative.

### Impact Explanation
**Economic Model Breakdown:**
- Miners receive ZERO compensation for indexing side chain blocks, completely removing their economic incentive to perform this critical cross-chain service
- Side chains can operate indefinitely without paying for parent chain indexing infrastructure, creating a free-rider problem
- The parent chain effectively subsidizes side chain operations at no cost to the side chain

**Affected Parties:**
- **Miners**: Lose indexing fee revenue, making it economically irrational to index zero-price side chains
- **Parent Chain**: Provides infrastructure services without compensation, bearing costs of storage and computation
- **Legitimate Side Chains**: May face degraded service if miners prioritize paid side chains over free ones

**Severity:** HIGH - This directly violates the economic invariant that miners must be compensated for their indexing work, and enables unlimited exploitation by any side chain creator.

### Likelihood Explanation
**Attack Complexity:** Trivial
- Any user can create a side chain through the standard `RequestSideChainCreation` flow
- Simply set `IndexingPrice = 0` in the `SideChainCreationRequest` parameter
- No special permissions, governance bypass, or complex transaction sequences required

**Attacker Capabilities:** Minimal
- Only requires ability to propose a side chain creation (standard user capability)
- Must have sufficient tokens for `LockedTokenAmount` (but since IndexingPrice = 0, these tokens are never consumed)
- No need to compromise privileged roles or exploit race conditions

**Economic Rationality:** Extremely High
- Side chain creators have direct financial incentive to set IndexingPrice = 0 to eliminate ongoing operational costs
- The locked tokens are never depleted, so the initial deposit effectively remains intact
- Zero cost for perpetual indexing service

**Detection:** Difficult
- The contract treats IndexingPrice = 0 as valid during validation checks
- No error events or warnings are emitted
- Appears as legitimate side chain behavior from the contract's perspective

**Probability Assessment:** HIGH - This is not a theoretical edge case but an economically rational choice that any cost-conscious side chain operator would make.

### Recommendation
**Immediate Fix:**
Enforce a minimum positive indexing price in the validation logic:

```csharp
// In AssertValidSideChainCreationRequest
Assert(
    sideChainCreationRequest.IndexingPrice > 0 && // Changed from >= 0
    sideChainCreationRequest.LockedTokenAmount >= sideChainCreationRequest.IndexingPrice,
    "Invalid chain creation request.");
```

Apply the same constraint in `AdjustIndexingFeePrice`:

```csharp
Assert(input.IndexingFee > 0, "Invalid side chain fee price."); // Changed from >= 0
```

**Additional Hardening:**
1. Add a configurable minimum indexing price parameter that governance can adjust
2. Implement a default minimum price (e.g., 1 token per block) in the contract initialization
3. Add validation that `LockedTokenAmount` must cover a minimum number of blocks at the set `IndexingPrice`
4. Emit warning events when side chains approach zero balance to alert miners

**Test Cases:**
1. Test that side chain creation fails when `IndexingPrice = 0`
2. Test that `AdjustIndexingFeePrice` rejects attempts to set price to zero
3. Test that minimum price configuration can only be changed through governance
4. Verify miners receive expected compensation for all non-zero price scenarios

### Proof of Concept

**Initial State:**
- User has sufficient native tokens for allowance
- Parliament governance for side chain creation is functional

**Exploitation Steps:**

1. **Request Side Chain Creation with Zero Price:**
```
RequestSideChainCreation({
    IndexingPrice: 0,                    // Zero price - miners get nothing
    LockedTokenAmount: 10000,            // Minimum required tokens
    IsPrivilegePreserved: false,
    InitialResourceAmount: {...}
})
```

2. **Approve and Release Creation Proposal:**
    - Parliament members approve the proposal
    - Proposal is released, triggering `CreateSideChain`
    - Side chain is created with `IndexingPrice = 0` stored in state

3. **Index Side Chain Blocks:**
```
ProposeCrossChainIndexing({
    SideChainBlockDataList: [
        { ChainId: <created_chain_id>, Height: 1, ... },
        { ChainId: <created_chain_id>, Height: 2, ... },
        // ... hundreds of blocks
    ]
})
```

4. **Release Indexing Proposal:**
```
ReleaseCrossChainIndexingProposal({
    ChainIdList: [<created_chain_id>]
})
```

**Expected Result:** 
Miner receives indexing fee payment proportional to number of blocks indexed

**Actual Result:**
- Miner receives ZERO compensation (`indexingFeeAmount = 0`)
- Side chain's `LockedTokenAmount` remains at 10000 (unchanged)
- Side chain status remains `Active` (never goes into debt)
- Blocks are successfully indexed onto parent chain
- Process repeats indefinitely with zero cost to side chain

**Success Condition:** 
After indexing N blocks, verify:
- Miner balance increase = 0 (should be N × IndexingPrice)
- Side chain deposit decrease = 0 (should be N × IndexingPrice)
- Side chain can continue indexing unlimited blocks without paying fees

### Citations

**File:** contract/AElf.Contracts.CrossChain/CrossChainContract_Helper.cs (L120-122)
```csharp
            sideChainCreationRequest.IndexingPrice >= 0 &&
            sideChainCreationRequest.LockedTokenAmount >= sideChainCreationRequest.IndexingPrice,
            "Invalid chain creation request.");
```

**File:** contract/AElf.Contracts.CrossChain/CrossChainContract_Helper.cs (L842-844)
```csharp
                var indexingPrice = sideChainInfo.IndexingPrice;

                lockedToken -= indexingPrice;
```

**File:** contract/AElf.Contracts.CrossChain/CrossChainContract_Helper.cs (L861-868)
```csharp
            if (indexingFeeAmount > 0)
                TransferDepositToken(new TransferInput
                {
                    To = proposer,
                    Symbol = Context.Variables.NativeSymbol,
                    Amount = indexingFeeAmount,
                    Memo = "Index fee."
                }, chainId);
```

**File:** contract/AElf.Contracts.CrossChain/CrossChainContract.cs (L148-148)
```csharp
            IndexingPrice = sideChainCreationRequest.IndexingPrice,
```

**File:** contract/AElf.Contracts.CrossChain/CrossChainContract.cs (L249-249)
```csharp
        Assert(input.IndexingFee >= 0, "Invalid side chain fee price.");
```
