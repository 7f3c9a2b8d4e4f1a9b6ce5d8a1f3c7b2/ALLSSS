### Title
Off-By-One Error in Parent Chain Height Validation Causes View Function Revert at Genesis Height

### Summary
The `GetAllChainsIdAndHeight()` function incorrectly validates parent chain height using a strict greater-than comparison instead of greater-than-or-equal-to, causing the function to revert when the parent chain is at the valid genesis block height (1). This creates a temporary denial of service for cross-chain data retrieval services during the initial indexing phase.

### Finding Description

**Location**: [1](#0-0) 

**Root Cause**: The assertion at line 125 uses `Assert(parentChainHeight > AElfConstants.GenesisBlockHeight)` where `AElfConstants.GenesisBlockHeight = 1` [2](#0-1) , rejecting the valid genesis block height.

**Execution Path**:
1. When a side chain is initialized, `CurrentParentChainHeight` is set to `CreationHeightOnParentChain - 1` [3](#0-2) 
2. If the side chain is created at parent height 1, `CurrentParentChainHeight` is initialized to 0
3. After the first parent chain block (genesis at height 1) is indexed via `IndexParentChainBlockData()`, the height is updated to 1 [4](#0-3) 
4. When `GetAllChainsIdAndHeight()` is called, it retrieves `parentChainHeight = 1` [5](#0-4) 
5. The assertion `1 > 1` evaluates to false, causing the transaction to revert

**Why Existing Protection Fails**: The contract explicitly allows genesis height (1) as the starting point for side chain indexing [6](#0-5) , demonstrating that height 1 is a valid indexed height. However, the parent chain validation is inconsistent and incorrectly rejects this valid state.

### Impact Explanation

**Operational Impact**: The view function `GetAllChainsIdAndHeight()` becomes temporarily unavailable when the parent chain height equals genesis height. This function is called by the cross-chain indexing data service [7](#0-6) , which retrieves chain height information for cross-chain operations.

**Who Is Affected**: 
- Cross-chain indexing services that query chain heights
- Any external systems or monitoring tools that rely on this view function
- Integration tests during initial chain deployment

**Severity Justification**: Low severity because:
- This is a view function with no state modifications or fund transfers
- The issue is temporary (resolves once the second block is indexed)
- The scenario occurs only during a narrow window in initial chain setup
- Production deployments typically create side chains after genesis, making this edge case rare

### Likelihood Explanation

**Preconditions**:
1. A side chain must be created when the parent chain is at genesis block height (1)
2. Only the genesis block has been indexed from the parent chain
3. `GetAllChainsIdAndHeight()` is called before the second parent chain block is indexed

**Feasibility**: This scenario can occur naturally during initial chain setup or testing, requiring no attacker involvement. The window is narrow (between indexing the first and second parent chain blocks) but possible.

**Detection**: Would be immediately detected through service failures, integration test failures, or monitoring alerts when the function reverts unexpectedly.

**Probability**: Very low in production environments where chains are typically created after genesis and multiple blocks are indexed quickly. However, higher probability in test environments or specific deployment scenarios.

### Recommendation

**Code-Level Fix**: Change the assertion from strict inequality to inclusive inequality:

```csharp
// Current (line 125):
Assert(parentChainHeight > AElfConstants.GenesisBlockHeight, "Invalid parent chain height");

// Fixed:
Assert(parentChainHeight >= AElfConstants.GenesisBlockHeight, "Invalid parent chain height");
```

**Invariant to Enforce**: Parent chain height must be greater than or equal to genesis block height (1) when a parent chain exists, consistent with the side chain validation logic.

**Test Cases to Add**:
1. Test `GetAllChainsIdAndHeight()` when parent chain is at genesis height (1)
2. Test side chain initialization at parent height 1 followed by genesis block indexing
3. Integration test verifying the function works throughout the initial indexing phase

### Proof of Concept

**Initial State**:
- Side chain is initialized with `ParentChainId = 123` and `CreationHeightOnParentChain = 1`
- This sets `State.CurrentParentChainHeight.Value = 0`

**Transaction Sequence**:
1. Index the first parent chain block (genesis at height 1) via `ProposeCrossChainIndexing()` and `ReleaseCrossChainIndexingProposal()`
2. After indexing completes, `State.CurrentParentChainHeight.Value = 1`
3. Call `GetAllChainsIdAndHeight()`

**Expected Result**: Function should return a dictionary containing the parent chain ID (123) with height 1

**Actual Result**: Function reverts with "Invalid parent chain height" because the assertion `Assert(1 > 1)` fails

**Success Condition**: The assertion failure demonstrates that a valid blockchain state (parent chain at genesis height) is incorrectly rejected, confirming the off-by-one error.

### Citations

**File:** contract/AElf.Contracts.CrossChain/CrossChainContract_View.cs (L118-128)
```csharp
    public override ChainIdAndHeightDict GetAllChainsIdAndHeight(Empty input)
    {
        var dict = GetSideChainIdAndHeight(new Empty());

        if (State.ParentChainId.Value == 0)
            return dict;
        var parentChainHeight = GetParentChainHeight(new Empty()).Value;
        Assert(parentChainHeight > AElfConstants.GenesisBlockHeight, "Invalid parent chain height");
        dict.IdHeightDict.Add(State.ParentChainId.Value, parentChainHeight);
        return dict;
    }
```

**File:** src/AElf.Types/AElfConstants.cs (L6-6)
```csharp
        public const long GenesisBlockHeight = 1;
```

**File:** contract/AElf.Contracts.CrossChain/CrossChainContract.cs (L18-18)
```csharp
        State.CurrentParentChainHeight.Value = input.CreationHeightOnParentChain - 1;
```

**File:** contract/AElf.Contracts.CrossChain/CrossChainContract_Helper.cs (L704-706)
```csharp
            var target = currentSideChainHeight != 0
                ? currentSideChainHeight + 1
                : AElfConstants.GenesisBlockHeight;
```

**File:** contract/AElf.Contracts.CrossChain/CrossChainContract_Helper.cs (L798-798)
```csharp
        State.CurrentParentChainHeight.Value = currentHeight;
```

**File:** src/AElf.CrossChain.Core/Indexing/Application/CrossChainIndexingDataService.cs (L174-175)
```csharp
            }).GetAllChainsIdAndHeight
            .CallAsync(new Empty());
```
